<!DOCTYPE html>


<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Monitoring as a Service</title>

    

    
<link rel="stylesheet" href="_static/css/reveal.min.css">
<link rel="stylesheet" href="_static/css/theme/default.css" id="theme">
<link rel="stylesheet" href="_static/lib/css/zenburn.css">
<link rel="stylesheet" href="_static/revealjs.css" type="text/css" />

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write('<link rel="stylesheet" href="_static/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf.css" type="text/css"' : 'paper.css" type="text/css" media="print"' )  );
    </script>

    <!--[if lt IE 9]>
    <script src="_static/lib/js/html5shiv.js"></script>
    <![endif]-->

  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        
  <section>
<h2>OpenStack Monitoring</h2>
<p class="first">MONaaS</p>
<br/>
<br/><p>Alexandre Viau</p>
<small>
<a class="reference external" href="mailto:alexandre&#46;viau&#37;&#52;&#48;savoirfairelinux&#46;com">alexandre<span>&#46;</span>viau<span>&#64;</span>savoirfairelinux<span>&#46;</span>com</a></small>
<p>Thibault Cohen</p>
<small>
<a class="reference external" href="mailto:thibault&#46;cohen&#37;&#52;&#48;savoirfairelinux&#46;com">thibault<span>&#46;</span>cohen<span>&#64;</span>savoirfairelinux<span>&#46;</span>com</a></small>
<br/>
<br/><small class="last">
<div class="first"><a href="https://savoirfairelinux.github.io/MONaaS-presentation/en">EN</a> -
<a href="https://savoirfairelinux.github.io/MONaaS-presentation">FR</a></div><div class="last"><a href="javascript:printIt()">PDF</a>
<script>
        function printIt(printThis) {
        url = location.protocol + "//" + location.hostname + location.pathname + "?print-pdf"
        child = window.open(url);  //Open the child in a tiny window.
        window.focus();  //Hide the child as soon as it is opened.
        child.print();  //Print the child.
        //child.close();  //Immediately close the child.
        }
</script></div></small>
</section>
<section>
<h2>Monitoring as a Servce</h2>
<p class="first">MONaas</p>
<br/><ul class="last simple">
<li><a class="reference external" href="https://blueprints.launchpad.net/ceilometer/+spec/monitoring-as-a-service">https://blueprints.launchpad.net/ceilometer/+spec/monitoring-as-a-service</a></li>
</ul>
</section>
<section>
<h2>What is monitoring?</h2>
<ul class="first last simple">
<li>Executes checks</li>
<li>Applies rules</li>
<li>Alerts users</li>
<li>Saves a history of the data</li>
</ul>
</section>
<section>
<section class="first">
<h2>The state of monitoring in the cloud</h2>
</section>
<section>
<a class="first reference external image-reference" href="https://aws.amazon.com/cloudwatch/"><img alt="Amazon CloudWatch" src="_images/amazon_cloudwatch.png" style="width: 588px; height: 144px;" /></a>
<p class="fragment">&#8220;<strong>Amazon CloudWatch</strong> provides monitoring for AWS cloud resources and the applications customers run on AWS.&#8221;</p>
<div class="fragment last"><ul>
<li class="fragment">Passive monmitoring only</li>
<li class="fragment">Put API for custom metrics</li>
<li class="fragment">Alarms</li>
<li class="fragment">Use Auto Scaling to add or remove Amazon EC2 instances dynamically based on your Amazon CloudWatch metrics.</li>
</ul></div></section>
<section class="last">
<a class="first reference external image-reference" href="https://monitoring.api.rackspacecloud.com/"><img alt="Rackspace Cloud Monitoring" src="_images/rackspace-cloud-monitoring.png" style="width: 588px; height: 144px;" /></a>
<div class="fragment last"><ul>
<li class="fragment"><b>Active</b> and passive monitoring</li>
 <li class="fragment">Services checks</li>
<li class="fragment">Put API for custom metrics</li>
<li class="fragment">Alarms</li>
<li class="fragment">In-instance Agent</li>
</ul></div></section>
</section>
<section>
<section class="first">
<h2>OpenStack Telemetry</h2>
<h3>Ceilometer</h3>
<a class="first last reference external image-reference" href="https://wiki.openstack.org/wiki/Ceilometer"><img alt="Ceilometer" src="_images/ceilometer.jpg" /></a>
</section>
<section>
<p class="first"><strong>Initial objective</strong></p>
<p>To deliver a unique point of contact for <strong>billing systems</strong> to aquire all <strong>meters</strong> they need to establish customer billing, across all current and future OpenStack core components.</p>
<a class="last reference external image-reference" href="http://docs.openstack.org/developer/ceilometer/measurements.html:alt:RubanMesurer:width:300:height:300"><img alt="_images/ruban_mesurer.png" src="_images/ruban_mesurer.png" /></a>
</section>
<section>
<p class="first"><strong>As of Grizzly:</strong></p>
<p>To become the infrastructure to collect measurements within OpenStack so that no two agents would need to be written to collect the same data. Its primary targets are <strong>monitoring</strong> and metering.</p>
<a class="last reference internal image-reference" href="_images/nsa.png"><img alt="caméra" src="_images/nsa.png" style="width: 300px; height: 300px;" /></a>
</section>
<section class="last">
<h2>Available measurments in Ceilometer</h2>
<div class="fragment first last"><ul>
<li class="fragment">CPU usage</li>
<li class="fragment"­>Memory usage</li>
<li class="fragment">Disk usage</li>
<li class="fragment">Network traffic</li>
</ul></div></section>
</section>
<section>
<h2>What's missing...</h2>
<div class="fragment first last"><ul>
<li class="fragment">Polling</li>
<li class="fragment">Services availability</li>
<li class="fragment">Applicative data</li>
<li class="fragment">Checks scenarios</li>
<li class="fragment">Buisness rules</li>
<li class="fragment">Scaling rules driven by system/application specific metrics.</li>
</ul></div></section>
<section>
<section class="first">
<h2>Fil conducteur...</h2>
</section>
<section>
<h2>Monitoring as a Service</h2>
<ul class="fragment first simple">
<li>RESTful API</li>
<li><strong>Highly available</strong></li>
<li>Fault-tolerant</li>
<li>Self-monitored</li>
</ul>
<div class="last"><aside class="notes">
    The SLA has to be way higher than the application's.
    <br/>
    00:10:00
</aside></div></section>
<section>
<h2>What this would bring</h2>
</section>
<section>
<h2>Polling of in-instance agents</h2>
<ul class="fragment first last simple">
<li>NRPE</li>
<li>SNMP</li>
<li>SSH</li>
<li>etc... New protocol??</li>
</ul>
</section>
<section>
<h2>Services monitoring</h2>
<ul class="fragment first last simple">
<li>Availability</li>
<li>Response time</li>
<li>HTTP scenarios</li>
<li>TCP/UDP protocols (NTP, DNS, MYSQL, SMTP, IMAP, ...)</li>
</ul>
</section>
<section>
<h2>Multiple zones monitoring</h2>
<div class="fragment first last"><ul>
<li class="fragment">User experience from several zones</li>
<li class="fragment">Ensure availability</li>
<li class="fragment">More complete monitoring</li>
<li class="fragment">How are users in Montreal experiencing the new release of our XYZ application?</li>
</ul></div></section>
<section class="last">
<h4>Multiple zones monitoring (schema)</h4>
<img alt="_images/verification-multi-site.png" class="first" src="_images/verification-multi-site.png" />
<div class="last"><aside class="notes">
    Actual monitoring Nagios
    <br/>
    00:15:00
</aside></div></section>
</section>
<section>
<section class="first last">
<h2>What we have done</h2>
<div class="fragment first"> <ul>
 <li class="fragment">Submitted the blueprint</li>
 <li class="fragment">Openstack-dev</li>
 <li class="fragment">Reached to the Ceilometer Team</li>
</ul></div><div class="last"><aside class="notes">
    Reactions of HP
    <br>Meetings IRC
</aside></div></section>
</section>
<section>
<section class="first">
<h2>Implementation ideas</h2>
</section>
<section>
<h3>hpcloud-mon</h3>
<a class="first last reference internal image-reference" href="_images/hpmon.png"><img alt="_images/hpmon.png" src="_images/hpmon.png" style="width: 80%;" /></a>
</section>
<section data-background="_static/images/openstack_havana_conceptual_arch.png" data-background-size="auto 95%" data-transition="fade">
</section>
<section data-background="_static/images/openstack_havana_conceptual_arch2.png" data-background-size="auto 95%" data-transition="fade">
</section>
<section>
<h2>Shinken as a monitoring framework ?</h2>
<ul class="first last simple">
<li>Nagios Compatible</li>
<li>Written in Python</li>
<li>Modular architecture</li>
<li>Supports buisness rules</li>
<li>Possible integration in Horizon</li>
</ul>
</section>
<section>
<h3>Implementation example with Shinken</h3>
<img alt="_images/shinken_in_openstack.png" class="first last" src="_images/shinken_in_openstack.png" />
</section>
<section>
<h3>Implementation example with Shinken</h3>
<img alt="_images/shinken_openstack_multisite.png" class="first last" src="_images/shinken_openstack_multisite.png" />
</section>
<section>
<h2>OpenStack infrastructure monitoring</h2>
<ul class="first simple">
<li>Availability of each component trough it&#8217;s API</li>
<li>Performance of OpenStack components trough Ceilometer</li>
<li>Events monitoring trough RabbitMQ</li>
</ul>
<div class="last"><aside class="notes">
    Monitoring nagios
</aside></div></section>
<section>
<h2>Monitoring on the ground</h2>
<ul class="first last simple">
<li>Standard monitoring of the infrastructure<ul>
<li>Servers</li>
<li>Switches</li>
<li>Firewall</li>
<li>SAN</li>
<li>...</li>
</ul>
</li>
</ul>
</section>
<section class="last">
<h3>Three levels of monitoring</h3>
<div class="first"><br/></div><ul class="simple">
<li>Applicative (StatD support, ...)</li>
<li>Platform (Apache, Mysql, Reddis, ...)</li>
<li>Infrastructure (CPU, mémoire, IO, ...)</li>
</ul>
<br/>
<br/><p class="last">Shinken&#8217;s royaume concept would enable the separation of the three level monitoring.</p>
</section>
</section>
<section>
<section class="first last">
<h2>References</h2>
<ul class="first last simple">
<li>MONaas blueprint: <a class="reference external" href="https://blueprints.launchpad.net/ceilometer/+spec/monitoring-as-a-service">https://blueprints.launchpad.net/ceilometer/+spec/monitoring-as-a-service</a></li>
<li>Wiki page: <a class="reference external" href="https://wiki.openstack.org/wiki/MONaaS">https://wiki.openstack.org/wiki/MONaaS</a></li>
<li>Announcement on openstack-dev: <a class="reference external" href="http://lists.openstack.org/pipermail/openstack-dev/2014-May/034189.html">http://lists.openstack.org/pipermail/openstack-dev/2014-May/034189.html</a></li>
</ul>
</section>
</section>
<section>
<section class="first last">
<h2>Questions / Discussion</h2>
<a class="first reference internal image-reference" href="_images/qrcode_presentation_en.svg"><img height="510" src="_images/qrcode_presentation_en.svg" width="510" /></a>
<p class="last">⇑⇑ savoirfairelinux.github.io/MONaaS-presentation/en ⇑⇑</p>
</section>
</section>


      </div>
    </div>
    
<script src="_static/js/jquery.min.js"></script>
<script src="_static/lib/js/head.min.js"></script>
<script src="_static/js/reveal.js"></script>
    <script>

      // change DOM for reveal.js
      $("div.section h1").remove();
      var content = $("div.section").html();
      $("div.section").remove();
      $("div.slides").html(content);

      Reveal.initialize({
        width: 960,
        height: 700,

        margin: 0.1,

        minScale: 0.2,
        maxScale: 1.0,

        controls: true,
        progress: true,
        history: true,
        center: true,

        keyboard : true,
        overview: true,
        touch: true,
        loop: false,
        rtl: false,
        fragments: true,

        autoSlide: 0,
        mouseWheel: false,
        rollingLinks: true,
        previewLinks: false,

        transitionSpeed: "default",
        backgroundTransition: "default",

        theme: Reveal.getQueryHash().theme || "sky", // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || "linear", // default/cube/page/concave/zoom/linear/fade/none

        dependencies: [
        { src: '_static/lib/js/classList.js', condition: function() { return !document.body.classList; } },
        { src: '_static/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '_static/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
        { src: '_static/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: '_static/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
        { src: '_static/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });
    </script>
  </body>
</html>